# ==========================
# Core Settings
# ==========================
# Fix colors and clipboard integration
set-option -g default-terminal screen-256color
set-option -g terminal-overrides ',rxvt-unicode-256color:Ms=\E]52;%p1%s;%p2%s\007'

set -g mouse on                  # Enable mouse support
set -g base-index 1              # Start window (tab) numbers at 1
setw -g pane-base-index 1        # Start pane numbers at 1
set -g renumber-windows on       # Automatically renumber tabs when you close one
set -g history-limit 50000       # Keep plenty of scrollback history
set -g status-position top       # Put the tab bar at the top of the screen
set -g set-clipboard on          # Allow tmux to copy to your system clipboard
setw -g mode-keys vi             # Use vi shortcuts for scrolling

# ==========================
# Key Bindings
# ==========================
# Note: The prefix remains the default: Ctrl + b

# --- Splits ---
# Split window horizontally (left/right panes) with Ctrl+b -> h
unbind %
bind h split-window -h -c "#{pane_current_path}"

# Split window vertically (top/bottom panes) with Ctrl+b -> v
unbind '"'
bind v split-window -v -c "#{pane_current_path}"

# --- Tabs ---
# Create new tab: Ctrl+b -> t
unbind c
bind t new-window -c "#{pane_current_path}"

# Next tab: Ctrl+b -> Tab
bind Tab next-window

# Previous tab: Ctrl+b -> Shift+Tab
bind BTab previous-window

# Close tab: Ctrl+b -> Shift+X
unbind &
bind X kill-window

# Rename tab via keyboard: Ctrl+b -> r or double-click on the tab
bind r command-prompt -I "#W" "rename-window '%%'"
bind -n DoubleClick1Status command-prompt -I "#W" "rename-window '%%'"